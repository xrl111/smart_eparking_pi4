{% extends "base.html" %}

{% block title %}Qu·∫£n l√Ω ng∆∞·ªùi d√πng - Admin{% endblock %}

{% block content %}
<main class="container">
  <header>
    <h1>üë• Qu·∫£n l√Ω ng∆∞·ªùi d√πng</h1>
    <p>Danh s√°ch t·∫•t c·∫£ ng∆∞·ªùi d√πng trong h·ªá th·ªëng</p>
  </header>

  <section>
    <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 12px; overflow: hidden;">
      <thead>
        <tr style="background: #f3f4f6;">
          <th style="padding: 12px; text-align: left;">ID</th>
          <th style="padding: 12px; text-align: left;">T√™n ƒëƒÉng nh·∫≠p</th>
          <th style="padding: 12px; text-align: left;">Email</th>
          <th style="padding: 12px; text-align: left;">H·ªç t√™n</th>
          <th style="padding: 12px; text-align: left;">Vai tr√≤</th>
          <th style="padding: 12px; text-align: left;">Tr·∫°ng th√°i</th>
          <th style="padding: 12px; text-align: left;">Ng√†y t·∫°o</th>
        </tr>
      </thead>
      <tbody>
        {% for user in users %}
        <tr style="border-top: 1px solid #e5e7eb;">
          <td style="padding: 12px;">{{ user.id }}</td>
          <td style="padding: 12px;"><strong>{{ user.username }}</strong></td>
          <td style="padding: 12px;">{{ user.email }}</td>
          <td style="padding: 12px;">{{ user.full_name or '-' }}</td>
          <td style="padding: 12px;">
            {% if user.role == 'admin' %}
              <span style="background: #3b82f6; color: white; padding: 4px 8px; border-radius: 4px; font-size: 0.85rem;">ADMIN</span>
            {% else %}
              <span style="background: #6b7280; color: white; padding: 4px 8px; border-radius: 4px; font-size: 0.85rem;">CLIENT</span>
            {% endif %}
          </td>
          <td style="padding: 12px;">
            {% if user.is_active %}
              <span style="color: #22c55e;">‚úì Ho·∫°t ƒë·ªông</span>
            {% else %}
              <span style="color: #ef4444;">‚úó V√¥ hi·ªáu</span>
            {% endif %}
          </td>
          <td style="padding: 12px;">{{ user.created_at.strftime('%d/%m/%Y') if user.created_at else '-' }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </section>

  <div style="margin-top: 24px;">
    <a href="{{ url_for('main.dashboard') }}" class="btn btn-secondary">‚Üê Quay l·∫°i Dashboard</a>
  </div>
</main>
{% endblock %}

